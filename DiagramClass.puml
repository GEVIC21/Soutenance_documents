@startuml

skinparam class {
    BackgroundColor LightBlue
    ArrowColor DarkBlue
    BorderColor Black
    FontSize 12
}

class clients {
    +user_id : int
    +first_name: string
    +last_name: string
    +phone: string
    +created_at: timestamp
    +updated_at: timestamp
    +created_by: timestamp
    +updated_by: timestamp
}

clients "1" -- "1" users : est un utilisateur

class adresses_clients {
    +id : int
    +client_id: int
    +type: string
    +address1: string
    +address2: string
    +city: string
    +state: string
    +zip_code: string
    +country_code: string
    +created_at: timestamp
    +updated_at: timestamp
}

clients "1" -- "1..*" adresses_clients : un client a plusieurs adresses

class pays {
    +id : int
    +name: string
    +states: string
    +created_at: timestamp
    +updated_at: timestamp
}

class commandes {
    +id : int
    +total_price: double
    +status: string
    +created_at: timestamp
    +updated_at: timestamp
    +created_by: timestamp
    +updated_by: timestamp
}

class articles_commande {
    +id : int
    +commande_id: int
    +product_id: int
    +quantity: int
    +unit_price: double
    +created_at: timestamp
    +updated_at: timestamp
}

class détails_commande {
    +id : int
    +first_name: string
    +last_name: string
    +phone: string
    +address1: string
    +address2: string
    +city: string
    +state: string
    +zip_code: string
    +country_code: string
    +created_at: timestamp
    +updated_at: timestamp
}

commandes "1" -- "0..*" articles_commande : contient

produits "1" -- "0..*" articles_commande : fait partie de

class paiements {
    +id : int
    +commande_id: int
    +amount: double
    +status: string
    +type: string
    +created_at: timestamp
    +created_by: timestamp
}

commandes "1" -- "0..1" paiements : a

class categories {
    +id : int
    +name : string
    +slug : string
    +status : boolean
    +created_by : timestamp
    +updated_by : timestamp
    +deleted_by : timestamp
}

class produits {
    +id : int
    +category_id: int
    +title: string
    +slug: string
    +image: string
    +image_mime: string
    +image_size: int
    +description: longText
    +status: boolean
    +price: double
    +created_at: timestamp
    +updated_at: timestamp
    +deleted_at: timestamp
    +created_by: timestamp
    +updated_by: timestamp
    +deleted_by: timestamp
}

categories "1" -- "0..*" produits : contient
produits "plusieurs" --> "1" categories : appartient à

class users {
    +id : int
    +name: string
    +email: string
    +email_verified_at: string
    +password: string
    +role: string
    +is_admin: boolean
    +created_at: timestamp
    +updated_at: timestamp
}

class panier_articles {
    +id : int
    +user_id: int
    +product_id: int
    +quantity: int
    +created_at: timestamp
    +updated_at: timestamp
}

users "1" -- "0..*" panier_articles : possède

' Nouvelle Relations détectées pour les détails et les pays
clients "1" -- "0..1" pays : réside dans
commandes "1" -- "1" détails_commande : a des détails
détails_commande "1" -- "1" pays : basé en

@enduml
